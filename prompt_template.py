PROMPT_TEMPLATE = """
你是一个信息抽取模型，请从下面的文本中抽取“实体”和“关系”。

💡 为了更准确地识别实体和关系，我们提供了相关的背景知识作为参考，请结合背景知识进行抽取。

🧠 背景知识段落（供参考）：
{context}

📄 当前待处理文本：
"{input_text}"

⚠️ 要求：
1. 输出必须是合法 JSON 格式，不要包含注释、Markdown 代码块或多余文字。
2. JSON 顶层必须有三个字段："tokens"、"entities"、"relations"。
3. 每个实体必须包含: "text", "type", "start", "end"。
   - "text": 实体原文字符串。
   - "type": 实体类别（食物, 营养素, 疾病, 症状, 器官, 人群 等）。
   - "start" 和 "end": 在 tokens 序列中的起止下标（左闭右开）。
4. 每个关系必须包含: "type", "head", "tail"。
   - "head" 和 "tail" 是 entities 数组中的索引。
   - "type" 必须从以下候选关系里选择：

候选关系类型及约束（头实体 → 尾实体）：
- "有益于": (食物 → 疾病)
- "有害于": (食物 → 疾病)
- "缺乏导致": (营养素 → 疾病)
- "过量导致": (食物 → 疾病)
- "富含": (食物 → 营养素)
- "适合于": (食物 → 人群)
- "不适合于": (食物 → 人群)
- "导致": (食物 → 症状) 或 (疾病 → 症状)
- "作用于": (疾病 → 器官) 或 (症状 → 器官)
- "易患": (人群 → 疾病)
- "别名": (* → *)
- "促进吸收": (营养素 → 营养素)

示例：
输入: "维生素B2可以促进铁的吸收，牛奶不适合婴幼儿"
输出:
{{
  "tokens": ["维生素B2", "可以", "促进", "铁", "的", "吸收", "，", "牛奶", "不适合", "婴幼儿"],
  "entities": [
    {{"text": "维生素B2", "type": "营养素", "start": 0, "end": 1}},
    {{"text": "铁", "type": "营养素", "start": 3, "end": 4}},
    {{"text": "牛奶", "type": "食物", "start": 7, "end": 8}},
    {{"text": "婴幼儿", "type": "人群", "start": 9, "end": 10}}
  ],
  "relations": [
    {{"type": "促进吸收", "head": 0, "tail": 1}},
    {{"type": "不适合于", "head": 2, "tail": 3}}
  ]
}}
"""
